(function(c){var i=new google.maps.Geocoder;c.fn.autoGeocoder=function(b){var a=c.fn.autoGeocoder,b=c.extend(!0,{},a.defaults,b||{}),a=b.setup||a.base;for(property in a)for(var d=a[property],e=0,f=d.length;e<f;e++)d[e].call(this,b);return this.trigger("auto-geocoder.initialize")};c.fn.autoGeocoder.base={initialize:[function(b){b.initial.center=google.maps.LatLng.call(this,b.initial.center);this.bind("auto-geocoder.initialize",function(){c(this).trigger("auto-geocoder.createMap").trigger("auto-geocoder.onKeyUp")})}],
createMap:[function(b){this.bind("auto-geocoder.createMap",function(){var a=c("<div>",{"class":b.className}),d=b.position;if("before"==d||"after"==d)c(this)[d](a);else c(d).append(a);c(this).bind("keyup.auto-geocoder",function(){c(this).trigger("auto-geocoder.onKeyUp")});this.map=new google.maps.Map(a[0],b.initial)})}],onKeyUp:[function(b){this.bind("auto-geocoder.onKeyUp",function(){var a=this,d=c(a),e=c.trim(d.val()).replace(/\s+/g," ").toLowerCase(),f=this.timeout,g=this.previousAddress;f&&clearTimeout(f);
if(!(g&&g==e))""==e?d.trigger("auto-geocoder.onGeocodeResult",[[],""]):this.timeout=setTimeout(function(){a.previousAddress=e;i.geocode({address:e},function(a,b){d.trigger("auto-geocoder.onGeocodeResult",[a,b])})},b.delay)})}],onGeocodeResult:[function(b){this.get(0).marker=new google.maps.Marker;this.bind("auto-geocoder.onGeocodeResult",function(a,d,e){var a=this.map,f=this.marker;if(e==google.maps.GeocoderStatus.OK){var g=d[0].geometry,h=g.location;"auto"==b.success.zoom?a.fitBounds(g.viewport):
(a.setZoom(b.success.zoom),a.setCenter(h));f.setPosition(h);f.setMap(a);c(this).trigger("auto-geocoder.onGeocodeSuccess",[d,e])}else g=b.initial,f&&f.setMap(null),a.setZoom(g.zoom),a.setCenter(g.center),c(this).trigger("auto-geocoder.onGeocodeFailure",[d,e])})}],onGeocodeSuccess:[],onGeocodeFailure:[]};c.fn.autoGeocoder.defaults={className:"jquery-auto-geocoder-map",position:"after",delay:500,success:{zoom:"auto"},initial:{zoom:1,center:[34,0],draggable:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,
mapTypeControl:!1}}})(jQuery);
