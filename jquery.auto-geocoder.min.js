(function(c){var h=new google.maps.Geocoder;c.fn.autoGeocoder=function(a){var b=c.fn.autoGeocoder,a=c.extend(!0,{},b.defaults,a||{}),b=a.setup||b.base;for(property in b)for(var d=0,e=b[property].length;d<e;d++)b[property][d].call(this,a);return this.trigger("auto-geocoder.initialize")};c.fn.autoGeocoder.base={initialize:[function(a){a.initial.center=google.maps.LatLng.call(this,a.initial.center);this.bind("auto-geocoder.initialize",function(){c(this).trigger("auto-geocoder.createMap").trigger("auto-geocoder.onKeyUp")})}],
createMap:[function(a){this.bind("auto-geocoder.createMap",function(){var b=c("<div>",{"class":a.className});if(a.position=="before"||a.position=="after")c(this)[a.position](b);else c(a.position).append(b);c(this).bind("keyup.auto-geocoder",function(){c(this).trigger("auto-geocoder.onKeyUp")});this.map=new google.maps.Map(b[0],a.initial)})}],onKeyUp:[function(a){this.bind("auto-geocoder.onKeyUp",function(){var b=this,d=c(b),e=c.trim(d.val()).replace(/\s+/g," ").toLowerCase(),f=this.timeout,g=this.previousAddress;
f&&clearTimeout(f);if(!(g&&g==e))e==""?d.trigger("auto-geocoder.onGeocodeResult",[[],""]):this.timeout=setTimeout(function(){b.previousAddress=e;h.geocode({address:e},function(a,b){d.trigger("auto-geocoder.onGeocodeResult",[a,b])})},a.delay)})}],onGeocodeResult:[function(a){this.get(0).marker=new google.maps.Marker;this.bind("auto-geocoder.onGeocodeResult",function(b,d,e){var b=this.map,f=this.marker;e==google.maps.GeocoderStatus.OK?(a.success.zoom=="auto"?b.fitBounds(d[0].geometry.viewport):(b.setZoom(a.success.zoom),
b.setCenter(d[0].geometry.location)),f.setPosition(d[0].geometry.location),f.setMap(b),c(this).trigger("auto-geocoder.onGeocodeSuccess",[d,e])):(f&&f.setMap(null),b.setZoom(a.initial.zoom),b.setCenter(a.initial.center),c(this).trigger("auto-geocoder.onGeocodeFailure",[d,e]))})}],onGeocodeSuccess:[],onGeocodeFailure:[]};c.fn.autoGeocoder.defaults={className:"jquery-auto-geocoder-map",position:"after",delay:500,success:{zoom:"auto"},initial:{zoom:1,center:[34,0],draggable:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,
mapTypeControl:!1}}})(jQuery);
